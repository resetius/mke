project(utils CXX C)

if (NOT WIN32)
	set (BUILD_NETCDF 1)
	include_directories(/usr/include/netcdf-3)
endif (NOT WIN32)

set(EXECUTABLE_OUTPUT_PATH "../bin")
add_executable(sphere icosahedron.cpp)
add_executable(rectangle rectangle.cpp)
add_executable(srtm2mesh srtm2mesh.cpp)
add_executable(analizer analizer.cpp)
if (BUILD_NETCDF)
add_executable(netcdf_reader netcdf_reader.cpp)
target_link_libraries(netcdf_reader netcdf_c++ netcdf)
endif (BUILD_NETCDF)

if (OPENMP_FOUND)
set_target_properties(sphere PROPERTIES LINK_FLAGS ${OpenMP_C_FLAGS})
set_target_properties(rectangle PROPERTIES LINK_FLAGS ${OpenMP_C_FLAGS})
set_target_properties(srtm2mesh PROPERTIES LINK_FLAGS ${OpenMP_C_FLAGS})
set_target_properties(analizer PROPERTIES LINK_FLAGS ${OpenMP_C_FLAGS})
if (BUILD_NETCDF)
set_target_properties(netcdf_reader PROPERTIES LINK_FLAGS ${OpenMP_C_FLAGS})
endif (BUILD_NETCDF)
endif (OPENMP_FOUND)
